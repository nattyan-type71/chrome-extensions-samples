const blockTargets = [
  "evil-extension-script.js",
  "some-extension.bundle.js",
  "target-extension"
];

const observer = new MutationObserver((mutations) => {
  for (const m of mutations) {
    for (const node of m.addedNodes) {
      if (node.tagName === "SCRIPT") {
        const src = node.src || "";
        if (blockTargets.some(t => src.includes(t))) {
          console.log("Blocked extension script:", src);
          node.remove();
        }
      }
    }
  }
});

observer.observe(document.documentElement, {
  childList: true,
  subtree: true
});
